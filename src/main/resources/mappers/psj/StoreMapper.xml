<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.jaegokeeper.psj.mapper.StoreMapper2">

    <!-- Alba용 store 존재 확인 -->
    <select id="existsById" parameterType="int" resultType="boolean">
        SELECT COUNT(*) > 0
        FROM store
        WHERE store_id = #{storeId}
    </select>

    <!--  store 정보 등록  -->
    <insert id="insertStore"
            parameterType="com.jaegokeeper.psj.dto.StoreDto"
            useGeneratedKeys="true"
            keyProperty="storeId">
        INSERT INTO store (
            user_id,
            store_name,
            store_add1,
            store_add2,
            store_tel
        ) VALUES (
            #{userId},
            #{storeName},
            #{storeAdd1},
            #{storeAdd2},
            #{storeTel}
        )
    </insert>

    <!--  store 정보 수정  -->
    <update id="updateStore" parameterType="com.jaegokeeper.psj.dto.StoreDto">
        UPDATE store
        SET store_Name = #{storeName},
            store_add1 = #{storeAdd1},
            store_add2 = #{storeAdd2},
            store_tel = #{storeTel}
        WHERE store_id = #{storeId}
    </update>
</mapper>